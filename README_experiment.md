# reconstructing-faces-from-voices

## 实验日志

---

#### RAVDESS 数据集生成效果 

>(./datasets/RAVDESS)  IS score = 1.7109520106980187 (mean), 0.04679669340188354 (std)

###### **6月21日上午，在包含情绪条件condition的基础上拆分C1和C2进行溶蚀实验**

屏蔽C2, 释放C1,包含d1 [等同ACGAN]: 实验效果如下
* example_data-06-21,14,03-30000-generator.pth   **FID: 77.04566383419777**   **IS score : 1.7617466052446702 0.06621172106189678**


屏蔽C1，释放C2: 实验效果如下
* example_data-06-21,20,12-32000-generator.pth   **FID: 154.12820295312983**


同时屏蔽C1，C2 [等同于CGAN]: 实验效果如下
* example_data-06-22,00,31-30000-generator.pth   **FID: 181.88284909949192**
* example_data-06-22,07,18-90000-generator.pth   **FID: 177.48722392296486**  | **IS score : 1.7755453431505503 , 0.03843326807155156**


###### **6月22日上午，拆分情绪条件condition进行溶蚀实验**
保留C1，C2，以及d1: 实验效果如下

* example_data-06-22,22,10-36000-generator.pth   **FID: 66.13527884146316**  | **IS score : 1.7734002834923277 , 0.049920169348141974**
* example_data-06-22,21,04-30000-generator.pth   **FID: 59.30209725767692**   **IS score : 1.7361334991328257 , 0.031977488479208935**
* example_data-06-22,19,17-20000-generator.pth   **FID: 65.20740297322723**   **IS score : 1.8118344284680283 , 0.06862547090709695**


###### **6月24日晚间，拆分判别器d1，d2进行溶蚀实验**
保留C1，C2，以及d1，d2，其权重各为0.5: 实验效果如下
* example_data-06-24,09,45-50000-generator.pth  **FID: 77.65641176185643**
* example_data-06-24,21,55-32000-generator.pth  **FID: 70.75858206762601**    **IS score: 1.7792586008030813 0.053672295521173315**
* example_data-06-24,19,12-20000-generator.pth  **FID: 62.08911174278768**    **IS score: 1.775075692686822 0.021031883638621296**
* example_data-06-24,16,56-10000-generator.pth  **FID: 73.72198259813442**

保留C1，C2，以及d1，d2，其权重为0.7,0.3: 实验效果如下
* example_data-06-25,03,34-20000-generator.pth   **FID:  60.00450711180875**
* example_data-06-25,05,52-30000-generator.pth   **FID: 62.5785421008473**
* example_data-06-25,08,09-40000-generator.pth   **FID: 62.58328014410883**

保留C1，C2，以及d1，d2，其权重为0.8,0.2: 实验效果如下
(此权重下，效果十分糟糕，不予记录图片)
* 06-27,04,58-30000-generator.pth    **FID:  341.5557012213535**
* 06-27,07,13-40000-generator.pth    **FID:  403.5595567612286**


保留C1，C2，以及d1，d2，其权重为0.3,0.7: 实验效果如下
* example_data-06-25,22,27-62000-generator.pth    **FID:  101.93689725022618**
* example_data-06-25,19,43-50000-generator.pth    **FID:  113.30869474822683**   **IS score : 1.9576397673579649, 0.09542782197748644**
* example_data-06-25,15,12-30000-generator.pth    **FID:  73.9886620872809**     **IS score :1.6911439765106788 0.054368145892839434**
* example_data-06-25,12,54-20000-generator.pth    **FID:  84.03936961968131**    **IS score :1.7297550225858227 0.047273975208737884**

6月29日晚间, 保留C1，C2; 保留d1，去掉d2: 实验效果如下
* 06-30,20,00-58000-generator              **FID:  90.02340973790461**     1.666049601835511 0.03686600960288787
* 06-30,17,31-44000-generator              **FID:  77.40706297502798**
* 06-30,16,48-40000-generator              **FID:  60.63684228615578**
* 06-30,16,27-38000-generator              **FID:  63.34017388773124**
* 06-30,16,06-36000-generator              **FID:  67.13716902698712**
* 06-30,15,02-30000-generator              **FID:  53.98269741735683**
* 06-30,14,19-26000-generator              **FID:  49.95934656083338**
* 06-30,13,36-22000-generator              **FID:  61.81369125147586**
* 06-30,12,53-18000-generator              **FID:  88.78801364660262**
* 06-30,12,11-14000-generator              **FID:  117.74672876538946**
* 06-30,11,28-10000-generator              **FID:  273.28779881331377**

6月30日晚间, 保留C1，C2; 保留d2，去掉d1: 实验效果如下
* 07-01,08,14-60000-generator       **FID: 88.56023500567827**   **IS score : 1.7664539427393458 0.055353589938696796**
* 07-01,06,25-50000-generator       **FID:  135.06445278489684**  **IS score: 1.795138376614678 0.07467087205873725**
* 07-01,04,37-40000-generator       **FID:  80.74685098156627**   **IS score:1.6518878250986233 0.03897494059764643**
* 07-01,02,48-30000-generator       **FID:  69.5406508027912**    **IS score:1.7656600753128249 0.0756019360132175**
* 07-01,02,27-28000-generator       **FID:  80.40472887662452**    **1.7272963026330792 0.08616549494799686**
* 07-01,02,05-26000-generator       **FID:  56.63468947180246**   **1.6283944675425068 0.030699979805002935**
* 07-01,01,43-24000-generator       **FID:  127.11577524621072**
* 07-01,01,00-20000-generator       **FID:  64.35034867197774**    **1.6598106761699047 0.04811013155426999**
* 06-30,23,55-14000-generator        **FID:  72.25400216757482**    **1.7252316841580613 0.06301108542567832**
* 06-30,23,12-10000-generator        **FID:  80.44956283444915**

###### **7月1日下午，拆分分类器c1，c2进行溶蚀实验**
7月1日下午, 保留C1，去掉C2; 保留d2，d1: 实验效果如下
* 07-01,21,30-32000-generator    **FID:  110.84193743245342**    1.9082691335448358 0.07329820129863165
* 07-01,21,07-30000-generator

7月1日晚上, 保留C2，去掉C1; 保留d2，d1: 实验效果如下
实验效果为模式崩塌，无法直接使用。

###### **6月22日上午，调整triple loss进行溶蚀实验**




###### **6月2x日上午，调整输入音频特征进行溶蚀实验**
保留C1，C2，以及d1，d2，
* Fbank(上述主体实验均是基于此项数据)
    *
    *
* MFCC
    其权重为0.3,0.7: 实验效果如下
    * example_data-06-29,08,26-50000-generator.pth   **FID:  58.79217790580998** **IS score:1.7213333321355606 0.05178722443709882**
    * example_data-06-29,06,06-40000-generator.pth   **FID:  82.33296519130191**  **IS score: 1.6518482668949865 0.025601298104441852**
* Mel
    其权重为0.2,0.8: 实验效果如下
    * example_data-06-28,07,14-50000-generator.pth  **FID:  89.24308998408225**  **IS score: 1.7795816265039588 0.03944602906783189**
    * example_data-06-28,04,55-40000-generator.pth  **FID:  96.15977533313676**  **IS score: 1.9141911694859401 0.058904539082837215**


###### **6月2x日上午，使用C1，C2对生成图片进行分类，确定生成的实际身份和情绪类型**

###### **6月23日上午，whole FE-GAN实验**

* example_data-06-23,08,38-50000-generator.pth **FID:  65.03362411853709**
* example_data-06-22,22,10-36000-generator.pth **FID:  66.13527884146316**


#### ENTERFACE 数据集生成效果 
>(./datasets/ENTERFACE)  IS score = 1.9441416542168297 (mean), 0.06086055311887032 (std)

####### **7月5日晚上，使用whole FE-GAN对ENTERFACE数据集进行训练，**
* 7月5日晚上: 采用64x128维fbank特征
* models/generator/07-06,11,52-10000-generator.pth

* 7月6日下午: 采用13x128维mfcc特征， d1,d2权重为0.7, 0.3
* 07-07,09,27-60000-generator  **FID: 143.90846323022762**      **IS score: 1.7832361349428765 0.04508759306477865**
* 07-07,07,12-50000-generator  **FID:  125.62138728992308**      **IS score: 1.7578295007111375 0.044493743837369086**
* 07-07,06,18-46000-generator  **FID:  158.98639058157585**
* 07-07,04,57-40000-generator  **FID:  125.38491873487608**
* 07-07,04,03-36000-generator  **FID:  168.9326838425023**
* 07-07,02,42-30000-generator  **FID:  149.14253531121574**
* 07-07,01,21-24000-generator  **FID:  145.32055090925053**
* 07-07,00,27-20000-generator  **FID:  125.15606588335561**

* 7月7日上午: 采用13x128维mfcc特征， d1,d2权重为0.8, 0.2
* 07-08,06,35-90000-generator  **FID: 139.79124692376467**      **IS score: 1.5913224352688424 0.03881740220089967**
* 07-08,04,20-80000-generator  **FID:  141.31291022259933**     **IS score: 1.671048553673249 0.05023392511497888**
* 07-08,02,05-70000-generator  **FID:  113.23356416139345**     **IS score: 1.7804478594780768 0.052646066403580855**
* 07-08,00,44-64000-generator  **FID:  155.38325922190137**
* 07-07,23,50-60000-generator  **FID:  127.62860225674129**      1.7429958592923185 0.02949107914767839
* 07-07,21,36-50000-generator  **FID:  163.85561573210538** 
* 07-07,19,23-40000-generator   **FID:  120.25624034042293**    1.630536827392838 0.050061662217154634
* 07-07,17,10-30000-generator   **FID:  119.543368201942**     1.6087229402706889 0.03759106461596845
* 07-07,14,57-20000-generator   **FID:  130.82227528752034**   


* 7月9日上午: 采用13x128维mfcc特征， d1,d2权重为1, 0, 时序nframe为800f, batchsize为32
* 07-10,07,30-90000-generator    **FID:  110.17973095530886**


* 7月9日上午: 采用13x128维mfcc特征， d1,d2权重为1,0, 时序nframe为300-800f, batchsize为64, d1,d2和c1,c2通道数为128
* 07-12,06,06-90000-generator    **FID:  149.83574238735088**

* 7月16日下午: 采用一一对应的voice和face，按照car-gan调整,d1和d2权重分别为0.5,判别器中不重复计算其真实值
* 07-16,07,08-50000-generator     **FID:  129.2795012004403**   1.7841658250418153 0.05050713118509401
* 07-16,09,12-60000-generator    **FID:  103.31456040792506**     1.774308994066598 0.08941368441608023
* 07-16,13,18-80000-generator    **FID:  111.46741778117251**     1.668816568777086 0.056352360837077155
* 07-16,14,31-86000-generator    **FID:  94.26349449889273**      1.715074227002511 0.039414512640693386


* 7月17日下午: 采用一一对应的voice和face，按照car-gan调整,d1和d2权重分别为0.5,判别器和生成器不重复计算其d2真实值, 
* 07-17,15,03-120000-generator     FID:  118.75205633781994     IS score: 1.641902556915543 0.05550362610992395
* 07-17,11,37-102000-generator     FID:  196.29833351433768
* 07-17,11,14-100000-generator     **FID:  87.76243909055223**      IS score: 1.8890325043212237 0.0868623355621829
* 07-17,09,20-90000-generator      FID:  93.81606028995384      IS score: 1.6479087142464615 0.037904157171783755
* 07-17,07,25-80000-generator      FID:  119.42398493857021     IS score: 1.7024912461413835 0.02711535190385049

* 7月21日下午: 采用一一对应的voice和face，按照car-gan调整,d1和d2权重分别为0.7,0.3,判别器和生成器不重复计算其d2真实值, 
* 07-23,02,25-182000-generator     FID:  84.58368871534392   IS score: 1.7550843600123447 0.040109442140685785
* 07-22,20,38-152000-generator     FID:  86.93798726977296   IS score: 1.7394108247587485 0.03144476322498556
* 07-22,12,59-112000-generator.pth   FID:  84.19456333947775
* 08-05,20,24-390000-generator.pth   FID:  95.60829738457264   IS score: 1.844405139491116 0.07327231579951189
chuanle

* 7月17日下午: 采用一一对应的voice和face，不计算d2在判别器和生成器中
* 07-19,02,37-192000-generator    FID:  143.57961306467968
* 07-19,02,16-190000-generator    FID:  96.94935177926823     IS score: 1.7755178006917138 0.07677575621626816
* 07-19,01,55-188000-generator    FID:  131.13665614926362
* 07-18,19,11-150000-generator    FID:  130.52858983629218

* 7月17日下午: 采用一一对应的voice和face, 计算d1,d2, 生成器中计算(GD_fake_loss1+GD_fake_loss2)*0.5, 判别器中计算(D_fake_loss1+ D_fake_loss2)*0.5
* 07-21,03,05-200000-generator    FID:  122.57830698101037    IS score: 1.5718146873466736 0.04724828925957995
* 07-21,01,01-190000-generator    FID:  149.6015688142794     IS score: 1.8185165336122733 0.06500703069166626
* 07-20,23,23-182000-generator    FID:  121.8462728908357
* 07-20,22,58-180000-generator    FID:  100.31306076612385    IS score: 1.6734210125456221 0.038494673334877626
*  models/generator/07-20,22,34-178000-generator.pth   FID:  128.28938677652138
* 07-20,22,10-176000-generator    FID:  99.55867822536953     IS score: 1.637299883051643 0.04084644225011631
* 07-20,14,49-140000-generator    FID:  96.46376357032672     IS score: 1.7384448429921615 0.05703501142634862



###### **12月5日上午，关于输入音频特征长度的补充实验**
*12月6、7、8日 进行300ms, 500ms, 700ms长度实验 (文件夹: /media/fz/新加卷1/FE-GAN实验数据存档/12月8日之前)
*其中300ms-d1-c1-c2,500ms-d1-c1-c2,1000ms-d1-c1-c2文件夹采用屏蔽d2, 使用c1, c2分类器的做法，其分类相关系数均为1
输入数据为RAVDESS数据集下变长度的mfcc时序特征,使用ReLU在反卷积中, 使用mfcc特征

*12月9日 进行300ms, 500ms, 700ms长度实验 (文件夹: /media/fz/新加卷1/FE-GAN实验数据存档/12月9日0.7d1-0.3d2)
*其中300ms,500ms,700ms, 1000ms 文件夹同时采用0.7*d1, 0.3*d2, 同时使用0.7*c1, 0.3*c2分类器的做法，所有相关系数均为0.7,0.3
使用Leakey-ReLU、normalization在反卷积中, 使用mfcc特征

*12月12日 进行300ms, 500ms, 700ms长度实验 (文件夹:  )
*其中300ms,500ms,700ms, 1000ms 文件夹同时采用0.7*d1, 0.3*d2, 使用c1, c2分类器的做法，其分类相关系数均为1
使用ReLU在反卷积中,不使用normalization在反卷积中,使用mfcc特征


*12月13日使用0.3d1,0.7d2,c1,c2，并使用LeakyReLU在反卷积中,不使用normalization在反卷积中,使用mfcc特征

*12月13日下午17:20, 使用0.3d1,0.7d1,c1,c2, 并使用LeakyReLU在反卷积中,不使用normalization,使用mfcc特征
实验效果非常差，不能在分辨器d上共享权值


*12月13日晚上22:25, 使用0.3d1,0.7d2,c1,c2, 并使用ReLU在反卷积中,使用fbank特征做为输入,在判别器和生成器中不不使用normalization